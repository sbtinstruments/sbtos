{
	"definitions": {
	},
	"additionalProperties": false,
	"properties": {
		"system": {
			"$ref": "geist.schema.json#/definitions/systemConfig",
			"default": {}
		},
		"server": {
			"type": "object",
			"properties": {
				"hostname": {
					"format": "hostname",
					"default": "localhost"
				},
				"port": {
					"type": "integer",
					"default": 8083
				}
			},
			"default": {}
		},
		"devices": {
			"type": "object",
			"properties": {
				"fallbackOnVirtual": {
					"type": "boolean",
					"default": false
				},
				"lockinAmplifier": {
					"type": "object",
					"properties": {
						"firFilter": {
							"type": "string",
							"default": "wiener0"
						},
						"dacDataBits": {
							"type": "integer",
							"default": 3
						},
						"cicLength": {
							"oneOf": [
								{
									"type": "integer",
									"minimum": 2,
									"maximum": 4095
								},
								{
									"type": "string",
									"enum": ["lock-to-gen2-divider"]
								}
							],
							"default": "lock-to-gen2-divider"
						},
						"generators": {
							"type": "object",
							"properties": {
								"generator1": {
									"type": "object",
									"properties": {
										"scale": {
											"type": "number",
											"default": 0.5
										},
										"divider": {
											"type": "integer",
											"minimum": 2,
											"maximum": 128,
											"default": 18
										}
									},
									"default": {}
								},
								"generator2": {
									"type": "object",
									"properties": {
										"scale": {
											"type": "number",
											"default": 0.5
										},
										"divider": {
											"type": "integer",
											"minimum": 2,
											"maximum": 4095,
											"default": 342
										}
									},
									"default": {}
								}
							},
							"default": {}
						}
					},
					"default": {}
				},
				"liquidSensor": {
					"type": "object",
					"properties": {
						"phototransistor": {
							"type": "object",
							"properties": {
								"hwmonId": {
									"type": "integer",
									"default": 0
								}
							},
							"default": {}
						}
					},
					"default": {}
				},
				"battery": {
					"type": "object",
					"properties": {
						"automaticPowerOff": {
							"type": "object",
							"properties": {
								"capacityThreshold": {
									"type": "integer",
									"minimum": 0,
									"maximum": 100,
									"default": 5
								},
								"checkPeriod": {
									"type": "integer",
									"minimum": 0,
									"default": 10
								}
							},
							"default": {}
						}
					},
					"default": {}
				},
				"conductivitySensor": {
					"type": "object",
					"properties": {
						"calibration": {
							"type": "object",
							"properties": {
								"data": {
									"type": "array",
									"default": [],
									"items": {
										"type": "object",
										"additionalProperties": false,
										"properties": {
											"voltage": {
												"type": "number"
											},
											"conductivity": {
												"type": "number"
											}
										}
									}
								}
							},
							"default": {}
						}
					},
					"default": {}
				}
			},
			"default": {}
		}
	}
}
