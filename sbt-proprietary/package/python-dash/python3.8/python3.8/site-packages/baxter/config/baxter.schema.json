{
	"definitions": {
		"piRange": {
			"type": "number",
			"minimum": -3.14159265359,
			"maximum": 3.14159265359
		},
		"bacteriaLimits": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"hfLower": {
					"$ref": "#/definitions/piRange",
					"default": 0
				},
				"hfUpper": {
					"$ref": "#/definitions/piRange",
					"default": 3.14159265359
				},
				"lfLower": {
					"$ref": "#/definitions/piRange",
					"default": -3.14159265359
				},
				"lfUpper": {
					"$ref": "#/definitions/piRange",
					"default": 3.14159265359
				},
				"invert": {
					"type": "boolean",
					"default": false
				}
			}
		},
		"measurementConfig": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"alg": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"noiseThreshold": {
							"type": "number",
							"default": 15.0
						}
					},
					"default": {}
				},
				"algResult": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"bacteriaLimits": {
							"$ref": "#/definitions/bacteriaLimits",
							"default": {}
						}
					},
					"default": {}
				},
				"analysis": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"minCountThreshold": {
							"type": "integer",
							"default": 10
						},
						"empiricConcentrationCorrection": {
							"type": "number",
							"default": 1.0
						}
					},
					"default": {}
				},
				"standardsFile": {
					"type": "string",
					"default": "{global.configDirectory}/measurement_standards.json"
				},
				"messagesProgram": {
					"type": "string",
					"default": "{global.configDirectory}/messages.mrp"
				},
				"csvSchemaFile": {
					"type": "string",
					"default": "{global.configDirectory}/csv_schema.json"
				},
				"resultFop": {
					"type": "object",
					"additionalProperties": false,
					"default": {},
					"properties": {
						"bacteria": {
							"type": "object",
							"additionalProperties": false,
							"default": {},
							"properties": {
								"lowerBound": {
									"type": "number",
									"minimum": 0
								},
								"upperBound": {
									"type": "number",
									"minimum": 0
								}
							}
						},
						"nonbacteria": {
							"type": "object",
							"additionalProperties": false,
							"default": {},
							"properties": {
								"lowerBound": {
									"type": "number",
									"minimum": 0
								},
								"upperBound": {
									"type": "number",
									"minimum": 0
								}
							}
						}
					}
				},
				"cellmate": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"hostname": {
							"format": "hostname",
							"default": "localhost"
						},
						"port": {
							"type": "integer",
							"default": 8084
						}
					},
					"default": {}
				},
				"maskin": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"hostname": {
							"format": "hostname",
							"default": "localhost"
						},
						"port": {
							"type": "integer",
							"default": 8083
						}
					},
					"default": {}
				}
			}
		}
	},
	"additionalProperties": false,
	"properties": {
		"system": {
			"$ref": "geist.schema.json#/definitions/systemConfig",
			"default": {}
		},
		"server": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"hostname": {
					"format": "hostname",
					"default": "localhost"
				},
				"port": {
					"type": "integer",
					"default": 8081
				},
				"sinks": {
					"type": "object",
					"additionalProperties": false,
					"properties": {
						"defaultDataTypes": {
							"type": "array",
							"items": {
								"type": "string",
								"enum": ["iqs", "csv", "json", "profile.json", "bdr"]
							},
							"additionalItems": false,
							"minItems": 1,
							"uniqueItems": true,
							"default": ["bdr", "csv", "json"]
						}
					},
					"default": {}
				}
			},
			"default": {}
		},
		"sources": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"default": {
					"type": "string",
					"enum": ["lockin_amplifier", "signal_generator"],
					"default": "lockin_amplifier"
				}
			},
			"default": {}
		},
		"sinks": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"dataDirectory": {
					"type": "string",
					"default": "{system.dataDirectory}/storage"
				}
			},
			"default": {}
		},
		"flows": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"measurement": {
					"$ref": "#/definitions/measurementConfig",
					"default": {}
				}
			},
			"default": {}
		},
		"ids": {
			"type": "object",
			"additionalProperties": false,
			"properties": {
				"idFile": {
					"type": "string",
					"default": "{system.dataDirectory}/id_file"
				}
			},
			"default": {}
		}
	}
}
