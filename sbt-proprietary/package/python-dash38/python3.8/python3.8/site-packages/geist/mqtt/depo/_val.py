from __future__ import annotations

from dataclasses import dataclass
from typing import TypeVar, Generic

VT = TypeVar("VT")


@dataclass(frozen=True)
class Metadata(Generic[VT]):
	last_modified_by: str


@dataclass(frozen=True)
class Val(Generic[VT]):
	"""Depo data and metadata."""
	data: VT
	metadata: Metadata

	@classmethod
	def simple(cls, data: VT, *, last_modified_by: str) -> Val[VT]:
		return Val(data, Metadata(last_modified_by))
