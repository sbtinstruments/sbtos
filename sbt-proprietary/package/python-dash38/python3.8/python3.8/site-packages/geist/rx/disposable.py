import functools
from rx.disposable import Disposable


class CmDisposable(Disposable):
	def __init__(self, cm):
		# Call __exit__ on dispose
		super().__init__(functools.partial(cm.__exit__, None, None, None))
		self.cm = cm.__enter__()

